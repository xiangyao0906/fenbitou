package com.fenbitou.base;import android.app.Activity;import android.app.ProgressDialog;import android.content.Context;import android.content.Intent;import android.os.Bundle;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.AdapterView;import com.aspsine.swipetoloadlayout.OnLoadMoreListener;import com.aspsine.swipetoloadlayout.OnRefreshListener;import com.fenbitou.fragment.LoadingFragmentDialog;import com.gyf.barlibrary.ImmersionBar;import butterknife.ButterKnife;import butterknife.Unbinder;/** * 类说明：正常加载的fragment * 条件:使用FragmentTransaction 管理fragment */public abstract class BaseFragment extends Fragment implements AdapterView.OnItemClickListener, OnRefreshListener, OnLoadMoreListener {    /**     * 根view     */    protected View mRootView;    private LoadingFragmentDialog loadingDialog = null;    private Unbinder unbinder;    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {        if (mRootView == null) {            mRootView = inflater.inflate(initContentView(), container, false);            unbinder = ButterKnife.bind(this, mRootView);            loadingDialog = new LoadingFragmentDialog();            ImmersionBar.with(this).statusBarDarkFont(true).navigationBarEnable(false).init();            initComponent();            initData();            addListener();        }        return mRootView;    }    @Override    public void onDestroyView() {        super.onDestroyView();    }    @Override    public void onDestroy() {        super.onDestroy();        unbinder.unbind();    }    /**     * 初始化布局资源文件     */    protected abstract int initContentView();    /**     * 初始化组件     */    protected abstract void initComponent();    /**     * 初始化数据     */    protected abstract void initData();    /**     * 添加监听     */    protected abstract void addListener();    protected <T extends View> T findViewById(int id) {        if (mRootView == null) {            return null;        }        return (T) mRootView.findViewById(id);    }    public void showLoading(Activity context) {        if(loadingDialog==null){            loadingDialog=new LoadingFragmentDialog();        }        loadingDialog.show(context.getFragmentManager(), "请稍后");    }    public void cancelLoading() {        loadingDialog.dismiss();    }    public void openActivity(Class<?> targetActivityClass) {        Intent intent = new Intent(getActivity(), targetActivityClass);        startActivity(intent);    }    public void openActivity(Class<?> targetActivityClass, Bundle bundle) {        Intent intent = new Intent(getActivity(), targetActivityClass);        intent.putExtras(bundle);        startActivity(intent);    }    public void openActivityAndCloseThis(Class<?> targetActivityClass) {        openActivity(targetActivityClass);        getActivity().finish();    }    public void openActivityAndCloseThis(Class<?> targetActivityClass, Bundle bundle) {        openActivity(targetActivityClass, bundle);        getActivity().finish();    }    @Override    public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {    }    @Override    public void onRefresh() {    }    @Override    public void onLoadMore() {    }}